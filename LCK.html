<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Guess The Esport Player</title>
  <meta name="description" content="Un mini-jeu type Who Are Ya? adapté à l'esport. Devine le joueur en 8 essais !" />
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%231a1f2e'/%3E%3Ctext x='50' y='58' text-anchor='middle' font-size='58' fill='%23a78bfa' font-family='Arial'%3E%E2%98%86%3C/text%3E%3C/svg%3E">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <nav>
    <a href="LEC.html">Europe</a>
    <a href="LCK.html">Corée</a>
    <a onclick="showPage('stats')">Chine</a>
    <a onclick="showPage('about')">Autre jeux</a>
  </nav>

  <div id="root"></div>

  <!-- React 18 UMD + Babel for in-browser JSX (simple static hosting) -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useEffect, useMemo, useRef, useState } = React;

    // ------------------------- Demo dataset -------------------------
    const PLAYERS = [
      {
        id: 1,
        name: "Choi Hyeon-Jun",
        alias: "Doran",
        game: "League of Legends",
        role: "Top",
        team: "T1",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 25,
        photoUrl: "Photos/LCK/T1/Doran.jpg"
      },
      {
        id: 2,
        name: "Mun Hyeon-Jun",
        alias: "Oner",
        game: "League of Legends",
        role: "Jungle",
        team: "T1",
        country: "Corée du sud",
        region: "KR",
        league: "LCK",
        age: 22,
        photoUrl: "Photos/LCK/T1/Oner.jpg"
      },
      {
        id: 3,
        name: "Lee Sang-Hyeok",
        alias: "Faker",
        game: "League of Legends",
        role: "Mid",
        team: "T1",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 29,
        photoUrl: "Photos/LCK/T1/Faker.jpg"
      },
      {
        id: 4,
        name: "Lee Min-Hyung",
        alias: "Gumayusi",
        game: "League of Legends",
        role: "ADC",
        team: "T1",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 23,
        photoUrl: "Photos/LCK/T1/Gumayusi.jpg"
      },
      {
        id: 5,
        name: "Ryu Min-Seok",
        alias: "Keria",
        game: "League of Legends",
        role: "Support",
        team: "T1",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 22,
        photoUrl: "Photos/LCK/T1/Keria.jpg"
      },
      {
        id: 6,
        name: "Choi Woo-Je",
        alias: "Zeus",
        game: "League of Legends",
        role: "Top",
        team: "HLE",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 27,
        photoUrl: "Photos/LCK/HLE/Zeus.jpg"
      },
      {
        id: 7,
        name: "Han Wang-Ho",
        alias: "Peanut",
        game: "League of Legends",
        role: "Jungle",
        team: "HLE",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 21,
        photoUrl: "Photos/LCK/HLE/Peanut.jpg"
      },
      {
        id: 8,
        name: "Kin Geon-Woo",
        alias: "Zeka",
        game: "League of Legends",
        role: "Mid",
        team: "HLE",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 22,
        photoUrl: "Photos/LCK/HLE/Zeka.jpg"
      },
      {
        id: 9,
        name: "Park Do-Hyeon",
        alias: "Viper",
        game: "League of Legends",
        role: "ADC",
        team: "HLE",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 24,
        photoUrl: "Photos/LCK/HLE/Viper.jpg"
      },
      {
        id: 10,
        name: "Yu Hwan-Jung",
        alias: "Delight",
        game: "League of Legends",
        role: "Support",
        team: "HLE",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 22,
        photoUrl: "Photos/LCK/HLE/Delight.jpg"
      },
      {
        id: 11,
        name: "Kim Ki-In",
        alias: "Kiin",
        game: "League of Legends",
        role: "Top",
        team: "GenG",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 26,
        photoUrl: "Photos/LCK/GENG/Kiin.jpg"
      },
      {
        id: 12,
        name: "Kim Geon-Bu",
        alias: "Canyon",
        game: "League of Legends",
        role: "Jungle",
        team: "GenG",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 24,
        photoUrl: "Photos/LCK/GENG/Canyon.jpg"
      },
      {
        id: 13,
        name: "Jeong Ji-Hoon",
        alias: "Chovy",
        game: "League of Legends",
        role: "Mid",
        team: "GenG",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 24,
        photoUrl: "Photos/LCK/GENG/Chovy.jpg"
      },
      {
        id: 14,
        name: "Park Jae-Hyuk",
        alias: "Ruler",
        game: "League of Legends",
        role: "ADC",
        team: "GenG",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 26,
        photoUrl: "Photos/LCK/GENG/Ruler.jpg"
      },
      {
        id: 15,
        name: "Joo Min-Kyu",
        alias: "Duro",
        game: "League of Legends",
        role: "Support",
        team: "GenG",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 23,
        photoUrl: "Photos/LCK/GENG/Duro.jpg"
      },
      {
        id: 16,
        name: "Jeon Si-Woo",
        alias: "Siwoo",
        game: "League of Legends",
        role: "Top",
        team: "DPlus",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 17,
        photoUrl: "Photos/LCK/DPlus/Siwoo.jpg"
      },
      {
        id: 17,
        name: "Choi Yong-Hyeok",
        alias: "Lucid",
        game: "League of Legends",
        role: "Jungle",
        team: "DPlus",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 20,
        photoUrl: "Photos/LCK/DPlus/Lucid.jpg"
      },
      {
        id: 18,
        name: "Heo Su",
        alias: "ShowMaker",
        game: "League of Legends",
        role: "Mid",
        team: "DPlus",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 25,
        photoUrl: "Photos/LCK/DPlus/ShowMaker.jpg"
      },
      {
        id: 19,
        name: "Kim Ha-Ram",
        alias: "Aiming",
        game: "League of Legends",
        role: "ADC",
        team: "DPlus",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 25,
        photoUrl: "Photos/LCK/DPlus/Aiming.jpg"
      },
      {
        id: 20,
        name: "Cho Geon-Hee",
        alias: "BeryL",
        game: "League of Legends",
        role: "Support",
        team: "DPlus",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 28,
        photoUrl: "Photos/LCK/DPlus/BeryL.jpg"
      },
      {
        id: 21,
        name: "Lee Seung-Min",
        alias: "PerfecT",
        game: "League of Legends",
        role: "Top",
        team: "KT Rolster",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 21,
        photoUrl: "Photos/LCK/KT/PerfecT.jpg"
      },
      {
        id: 22,
        name: "Mun U-Chan",
        alias: "Cuzz",
        game: "League of Legends",
        role: "Jungle",
        team: "KT Rolster",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 25,
        photoUrl: "Photos/LCK/KT/Cuzz.jpg"
      },
      {
        id: 23,
        name: "Gwak Bo-Sung",
        alias: "Bdd",
        game: "League of Legends",
        role: "Mid",
        team: "KT Rolster",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 26,
        photoUrl: "Photos/LCK/KT/Bdd.jpg"
      },
      {
        id: 24,
        name: "Seo Dae-Gil",
        alias: "Deokdam",
        game: "League of Legends",
        role: "ADC",
        team: "KT Rolster",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 25,
        photoUrl: "Photos/LCK/KT/deokdam.jpg"
      },
      {
        id: 25,
        name: "Jeong Yoon-Su",
        alias: "Peter",
        game: "League of Legends",
        role: "Support",
        team: "KT Rolster",
        country: "Corée du Sud",
        region: "KR",
        league: "LCK",
        age: 22,
        photoUrl: "Photos/LCK/KT/Peter.jpg"
      },
      {
        id: 26,
        name: "Li Xuanjun",
        alias: "Flandre",
        game: "League of Legends",
        role: "Top",
        team: "Anyone's Legend",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 26,
        photoUrl: "Photos/LPL/AOL/Flandre.jpg"
      },
      {
        id: 27,
        name: "Lee Seung-Yong",
        alias: "Tarzan",
        game: "League of Legends",
        role: "Jungle",
        team: "Anyone's Legend",
        country: "Corée du Sud",
        region: "CH",
        league: "LPL",
        age: 25,
        photoUrl: "Photos/LPL/AOL/Tarzan.jpg"
      },
      {
        id: 28,
        name: "Cui Xiaojun",
        alias: "Shanks",
        game: "League of Legends",
        role: "Mid",
        team: "Anyone's Legend",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 24,
        photoUrl: "Photos/LPL/AOL/Shanks.jpg"
      },
      {
        id: 29,
        name: "Wang Jie",
        alias: "Hope",
        game: "League of Legends",
        role: "ADC",
        team: "Anyone's Legend",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 24,
        photoUrl: "Photos/LPL/AOL/Hope.jpg"
      },
      {
        id: 30,
        name: "Kim Jin-Hong",
        alias: "Kael",
        game: "League of Legends",
        role: "Support",
        team: "Anyone's Legend",
        country: "Corée du Sud",
        region: "CH",
        league: "LPL",
        age: 21,
        photoUrl: "Photos/LPL/AOL/Kael.jpg"
      },
      {
        id: 31,
        name: "Chen Zebin",
        alias: "Bin",
        game: "League of Legends",
        role: "Top",
        team: "BLG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 21,
        photoUrl: "Photos/LPL/BLG/Bin.jpg"
      },
      {
        id: 32,
        name: "Zhao Zhiqiang",
        alias: "Shadow",
        game: "League of Legends",
        role: "Jungle",
        team: "BLG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 24,
        photoUrl: "Photos/LPL/BLG/Shadow.jpg"
      },
      {
        id: 33,
        name: "Zhuo Ding",
        alias: "Knight",
        game: "League of Legends",
        role: "Mid",
        team: "BLG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 25,
        photoUrl: "Photos/LPL/BLG/knight.jpg"
      },
      {
        id: 34,
        name: "Zhao Jiahao",
        alias: "Elk",
        game: "League of Legends",
        role: "ADC",
        team: "BLG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 23,
        photoUrl: "Photos/LPL/BLG/Elk.jpg"
      },
      {
        id: 35,
        name: "Luo Wenjun",
        alias: "ON",
        game: "League of Legends",
        role: "Support",
        team: "BLG",
        country: "Corée du Sud",
        region: "EU",
        league: "LPL",
        age: 21,
        photoUrl: "Photos/LPL/BLG/ON.jpg"
      },
      {
        id: 36,
        name: "Kang Seung-Lok",
        alias: "TheShy",
        game: "League of Legends",
        role: "Top",
        team: "IG",
        country: "Corée du Sud",
        region: "CH",
        league: "LPL",
        age: 25,
        photoUrl: "Photos/LPL/IG/TheShy.jpg"
      },
      {
        id: 37,
        name: "Yan Yangwei",
        alias: "Wei",
        game: "League of Legends",
        role: "Jungle",
        team: "IG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 22,
        photoUrl: "Photos/LPL/IG/Wei.jpg"
      },
      {
        id: 38,
        name: "Song Eui-Jin",
        alias: "Rookie",
        game: "League of Legends",
        role: "Mid",
        team: "IG",
        country: "Corée du Sud",
        region: "CH",
        league: "LPL",
        age: 28,
        photoUrl: "Photos/LPL/IG/Rookie.jpg"
      },
      {
        id: 39,
        name: "Chen Wei",
        alias: "GALA",
        game: "League of Legends",
        role: "ADC",
        team: "IG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 24,
        photoUrl: "Photos/LPL/IG/GALA.jpg"
      },
      {
        id: 40,
        name: "Tian Ye",
        alias: "Meiko",
        game: "League of Legends",
        role: "Support",
        team: "IG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 27,
        photoUrl: "Photos/LPL/IG/Meiko.jpg"
      },
      {
        id: 41,
        name: "Xu Xingzu",
        alias: "Xiaoxu",
        game: "League of Legends",
        role: "Top",
        team: "JDG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 21,
        photoUrl: "Photos/LPL/JDG/Xiaoxu.jpg"
      },
      {
        id: 42,
        name: "Peng Lixun",
        alias: "XUN",
        game: "League of Legends",
        role: "Jungle",
        team: "JDG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 23,
        photoUrl: "Photos/LPL/JDG/XUN.jpg"
      },
      {
        id: 43,
        name: "Lee Ye-Chan",
        alias: "Scout",
        game: "League of Legends",
        role: "Mid",
        team: "JDG",
        country: "Corée du Sud",
        region: "CH",
        league: "LPL",
        age: 27,
        photoUrl: "Photos/LPL/JDG/Scout.jpg"
      },
      {
        id: 44,
        name: "Kim Su-Hwan",
        alias: "Peyz",
        game: "League of Legends",
        role: "ADC",
        team: "JDG",
        country: "Corée du Sud",
        region: "CH",
        league: "LPL",
        age: 19,
        photoUrl: "Photos/LPL/JDG/Peyz.jpg"
      },
      {
        id: 45,
        name: "Zhang Rui",
        alias: "Wink",
        game: "League of Legends",
        role: "Support",
        team: "JDG",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 25,
        photoUrl: "Photos/LPL/JDG/Wink.jpg"
      },
      {
        id: 46,
        name: "Bai Jiahao",
        alias: "369",
        game: "League of Legends",
        role: "Top",
        team: "Top Esport",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 24,
        photoUrl: "Photos/LPL/TOP/369.jpg"
      },
      {
        id: 47,
        name: "Seo Jin-Hyeok",
        alias: "Kanavi",
        game: "League of Legends",
        role: "Jungle",
        team: "Top Esport",
        country: "Corée du Sud",
        region: "CH",
        league: "LPL",
        age: 24,
        photoUrl: "Photos/LPL/TOP/Kanavi.jpg"
      },
      {
        id: 48,
        name: "Lin Jian",
        alias: "Creme",
        game: "League of Legends",
        role: "Mid",
        team: "Top Esport",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 21,
        photoUrl: "Photos/LPL/TOP/Creme.jpg"
      },
      {
        id: 49,
        name: "Yu Wenbo",
        alias: "JackeyLove",
        game: "League of Legends",
        role: "ADC",
        team: "Top Esport",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 24,
        photoUrl: "Photos/LPL/TOP/JackeyLove.jpg"
      },
      {
        id: 50,
        name: "Fu Minghang",
        alias: "Hang",
        game: "League of Legends",
        role: "Support",
        team: "Top Esport",
        country: "Chine",
        region: "CH",
        league: "LPL",
        age: 22,
        photoUrl: "Photos/LPL/TOP/Hang.jpg"
      },
    ];

    const ATTRIBUTE_COLUMNS = [
      { key: "game", label: "Jeu" },
      { key: "role", label: "Rôle" },
      { key: "team", label: "Équipe" },
      { key: "league", label: "Ligue" },
      { key: "region", label: "Région" },
      { key: "country", label: "Pays" },
      { key: "age", label: "Âge" },
    ];

    const clamp = (n, min, max) => Math.max(min, Math.min(max, n));

    function seedFromDate(d) {
      const yyyy = d.getFullYear();
      const mm = d.getMonth() + 1;
      const dd = d.getDate();
      let x = yyyy * 10000 + mm * 100 + dd;
      x ^= x << 13; x ^= x >> 17; x ^= x << 5;
      return Math.abs(x);
    }

    function pickerDaily(arr, tzOffsetMinutes = 120) {
      const now = new Date();
      const local = new Date(now.getTime() + tzOffsetMinutes * 60000);
      const s = seedFromDate(local);
      const idx = s % arr.length;
      return arr[idx];
    }

    function compareField(field, guess, target) {
      const gv = guess[field];
      const tv = target[field];
      if (gv === tv) return { state: "match", text: String(gv) };

      if (field === "age") {
        const dir = gv > tv ? "↓" : "↑";
        return { state: "off", text: `${gv} ${dir}` };
      }
      if (field === "country" && guess.region === target.region) {
        return { state: "close", text: String(gv) };
      }
      if (field === "league" && guess.region === target.region) {
        return { state: "close", text: String(gv) };
      }
      if (field === "role" && gv && tv && gv.split("/").some((r) => String(tv).includes(r))) {
        return { state: "close", text: String(gv) };
      }
      return { state: "miss", text: String(gv ?? "—") };
    }

    function classForState(state) {
      switch (state) {
        case "match": return "bg-green-500 text-white";
        case "close": return "bg-red-500 text-black";
        case "off":   return "bg-gray-200 text-gray-900";
        default:      return "bg-slate-700 text-white";
      }
    }

    function silhouetteStyle(percent) {
      const blur = clamp(16 - (percent / 100) * 16, 0, 16);
      const dim = clamp(0.7 - (percent / 100) * 0.7, 0, 0.7);
      return { filter: `blur(${blur}px)`, opacity: 1 - dim };
    }

    function buildShare(guesses, target) {
      const header = `GuessTheEsportPlayer — ${guesses.length}/8`;
      const lines = guesses.map((g) => {
        return ATTRIBUTE_COLUMNS.map(({ key }) => {
          const { state } = compareField(key, g, target);
          if (state === "match") return "🟩";
          if (state === "close") return "🟨";
          if (state === "off") return "⬜";
          return "⬛";
        }).join("");
      });
      return [header, ...lines].join("\\n");
    }

    function App() {
      const [practice, setPractice] = useState(false);
      const [target, setTarget] = useState(() => pickerDaily(PLAYERS));
      const [query, setQuery] = useState("");
      const [guesses, setGuesses] = useState([]);
      const [selectedIndex, setSelectedIndex] = useState(0);
      const [message, setMessage] = useState("");

      const maxTries = 8;
      const gameOver = guesses.length >= maxTries || (guesses.length > 0 && guesses[guesses.length - 1].id === target.id);
      const won = guesses.some((g) => g.id === target.id);

      const suggestions = useMemo(() => {
        const q = query.trim().toLowerCase();
        if (!q) return [];
        return PLAYERS.filter((p) =>
          [p.name, p.alias].some((s) => s?.toLowerCase().includes(q))
        ).slice(0, 8);
      }, [query]);

      const revealPercent = useMemo(() => {
        if (won) return 100;
        const matches = guesses.reduce((acc, g) => {
          let m = 0;
          ATTRIBUTE_COLUMNS.forEach(({ key }) => {
            if (compareField(key, g, target).state === "match") m += 1;
          });
          return acc + m;
        }, 0);
        return clamp(Math.round((matches / (ATTRIBUTE_COLUMNS.length * maxTries)) * 100) + guesses.length * 5, 0, 99);
      }, [guesses, target, won]);

      useEffect(() => {
        const onKey = (e) => {
          if (e.key === "ArrowDown") {
            e.preventDefault();
            setSelectedIndex((i) => clamp(i + 1, 0, Math.max(0, suggestions.length - 1)));
          } else if (e.key === "ArrowUp") {
            e.preventDefault();
            setSelectedIndex((i) => clamp(i - 1, 0, Math.max(0, suggestions.length - 1)));
          } else if (e.key === "Enter" && suggestions[selectedIndex]) {
            e.preventDefault();
            onPick(suggestions[selectedIndex]);
          }
        };
        window.addEventListener("keydown", onKey);
        return () => window.removeEventListener("keydown", onKey);
      }, [suggestions, selectedIndex]);

      function onPick(player) {
        if (gameOver) return;
        if (guesses.some((g) => g.id === player.id)) {
          setMessage("Déjà essayé.");
          return;
        }
        setGuesses((gs) => [...gs, player]);
        setQuery("");
        setSelectedIndex(0);
        setMessage("");
      }

      function onReroll() {
        setGuesses([]);
        setQuery("");
        setSelectedIndex(0);
        if (practice) {
          const pool = PLAYERS.filter((p) => p.id !== target.id);
          setTarget(pool[Math.floor(Math.random() * pool.length)]);
        } else {
          setTarget(pickerDaily(PLAYERS));
        }
      }

      async function onShare() {
        const text = buildShare(guesses, target);
        try {
          await navigator.clipboard.writeText(text);
          setMessage("Résultat copié dans le presse-papiers ✨");
        } catch (e) {
          setMessage("Impossible de copier. (Permissions clipboard)");
        }
      }

      return (
        <div className="min-h-screen bg-gradient-to-b from-slate-900 via-slate-900 to-slate-950 text-slate-50 p-4 sm:p-8">
          <div className="mx-auto max-w-5xl">
            <header className="flex flex-col sm:flex-row gap-4 items-center justify-between mb-6">
              <h1 className="text-3xl sm:text-4xl font-extrabold tracking-tight">
                Guess The <span className="text-indigo-400">Esport Player</span>
              </h1>
              <div className="flex items-center gap-2">
                <button
                  onClick={() => setPractice((p) => !p)}
                  className={"px-3 py-2 text-sm rounded-2xl shadow " + (practice ? "bg-indigo-500" : "bg-slate-800")}
                  title="Basculer en mode entraînement"
                >
                  {practice ? "Mode entraînement" : "Mode quotidien"}
                </button>
                <button
                  onClick={onReroll}
                  className="px-3 py-2 text-sm rounded-2xl shadow bg-slate-800 hover:bg-slate-700"
                >
                  {practice ? "Nouveau tirage" : "Recharger le jour"}
                </button>
              </div>
            </header>

            <div className="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
              <div className="lg:col-span-1">
                <div className="relative w-full aspect-square rounded-2xl overflow-hidden bg-slate-800 shadow-xl">
                  {target.photoUrl ? (
                    <img
                      src={target.photoUrl}
                      alt="Player"
                      className="w-full h-full object-cover"
                      style={silhouetteStyle(revealPercent)}
                    />
                  ) : (
                    <div className="w-full h-full flex items-center justify-center text-6xl">🕵️‍♂️</div>
                  )}
                  <div className="absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/60 to-transparent text-sm flex items-center justify-between">
                    <span>Révélation: {revealPercent}%</span>
                    {won && <span className="font-semibold text-green-400">Bravo !</span>}
                  </div>
                </div>
              </div>

              <div className="lg:col-span-2">
                <div className="rounded-2xl bg-slate-800/70 border border-slate-700 p-4 shadow-xl">
                  <label className="block text-sm text-slate-300 mb-2">Tape un pseudo ou un nom</label>
                  <input
                    value={query}
                    onChange={(e) => setQuery(e.target.value)}
                    placeholder="Ex: Chovy, Peyz…"
                    className="w-full rounded-xl bg-slate-900 border border-slate-700 px-4 py-3 outline-none focus:ring-2 focus:ring-indigo-500"
                  />

                  {suggestions.length > 0 && (
                    <ul className="mt-3 max-h-64 overflow-auto rounded-xl border border-slate-700 bg-slate-900 divide-y divide-slate-800">
                      {suggestions.map((p, i) => (
                        <li
                          key={p.id}
                          onClick={() => onPick(p)}
                          className={"px-4 py-3 cursor-pointer hover:bg-slate-800 flex items-center justify-between " + (i === selectedIndex ? "bg-slate-800" : "")}
                        >
                          <div>
                            <div className="font-semibold">{p.alias}</div>
                            <div className="text-xs text-slate-400">{p.name}</div>
                          </div>
                          <div className="text-xs text-slate-400">{p.team} • {p.game}</div>
                        </li>
                      ))}
                    </ul>
                  )}

                  <div className="flex items-center justify-between mt-4 text-sm text-slate-400">
                    <span>Essais: <b className="text-slate-200">{guesses.length}</b> / {maxTries}</span>
                    <div className="flex gap-2">
                      <button onClick={onShare} disabled={guesses.length === 0} className="px-3 py-2 rounded-xl bg-indigo-600 disabled:opacity-50">
                        Partager
                      </button>
                      <button
                        onClick={() => { setGuesses([]); setMessage("Réinitialisé."); }}
                        className="px-3 py-2 rounded-xl bg-slate-700"
                      >
                        Réinitialiser
                      </button>
                    </div>
                  </div>
                  {message && <div className="mt-2 text-sm text-slate-300">{message}</div>}
                </div>
              </div>
            </div>

            <section className="rounded-2xl bg-slate-800/70 border border-slate-700 p-4 shadow-xl">
              <h2 className="text-lg font-semibold mb-3">Tes propositions</h2>
              <div className="overflow-x-auto">
                <table className="min-w-full text-sm">
                  <thead className="text-left text-slate-300">
                    <tr>
                      <th className="p-2">Joueur</th>
                      {ATTRIBUTE_COLUMNS.map((c) => (
                        <th key={c.key} className="p-2 whitespace-nowrap">{c.label}</th>
                      ))}
                    </tr>
                  </thead>
                  <tbody>
                    {guesses.map((g) => (
                      <tr key={g.id} className="border-t border-slate-700">
                        <td className="p-2">
                          <div className="flex items-center gap-3">
                            <div className="w-9 h-9 rounded-lg bg-slate-700 overflow-hidden">
                              <img src={g.photoUrl} alt="" className="w-full h-full object-cover" />
                            </div>
                            <div>
                              <div className="font-semibold">{g.alias}</div>
                              <div className="text-xs text-slate-400">{g.name}</div>
                            </div>
                          </div>
                        </td>
                        {ATTRIBUTE_COLUMNS.map(({ key }) => {
                          const { state, text } = compareField(key, g, target);
                          return (
                            <td key={key} className="p-2">
                              <span className={"px-2 py-1 rounded-lg text-xs font-semibold inline-block " + classForState(state)}>
                                {text}
                              </span>
                            </td>
                          );
                        })}
                      </tr>
                    ))}
                    {guesses.length === 0 && (
                      <tr>
                        <td colSpan={1 + ATTRIBUTE_COLUMNS.length} className="p-6 text-center text-slate-400">
                          Aucune proposition pour l'instant. Cherche un joueur ci-dessus.
                        </td>
                      </tr>
                    )}
                  </tbody>
                </table>
              </div>

              <div className="mt-4 p-4 rounded-xl bg-slate-900 border border-slate-700">
                {won ? (
                  <div>
                    <div className="text-green-400 font-semibold mb-1">Tu as trouvé !</div>
                    <div className="text-slate-300">C'était <b>{target.alias}</b> ({target.name}).</div>
                  </div>
                ) : (
                  <div>
                    <div className="text-slate-300">Tente ta chance en {practice ? "entraînement" : "quotidien"}.</div>
                  </div>
                )}
              </div>
            </section>

            <footer className="text-xs text-slate-400 mt-8 space-y-2">
              <p>
                Remplace la liste <code>PLAYERS</code> par tes données (JSON, API, etc.).
                Champs: <code>name</code>, <code>alias</code>, <code>game</code>, <code>role</code>, <code>team</code>, <code>league</code>, <code>region</code>, <code>country</code>, <code>age</code>, <code>photoUrl</code>.
              </p>
              <p>Pour le moment, seul le LEC est disponible mais prochainement seront disponible la LCK et la LPL :D</p>
            </footer>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>